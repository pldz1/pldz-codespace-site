---
author: admin@pldz1.com
category: cloud-service
csdn: ''
date: '2025-08-20'
gitee: ''
github: ''
juejin: ''
serialNo: 2
status: publish
summary: 快速用公网ip和端口搭建云服务
tags:
- 云服务器
thumbnail: /api/v1/website/image/cloud-service/cloud-service-ip-host-website-thumbnail.png
title: 搭建个人IP和端口的网站
---

# 搭建个人IP和端口的网站 !


## 1. 准备工作

1. **安装 Web 服务**

   * 常见选择：Python3/Nginx/Apache/Caddy，或框架带 HTTP Server。
   * 将网页文件（如 `index.html`）放到指定目录。

2. **选择监听地址与端口**

   * `0.0.0.0:端口` → 所有网卡都能访问（推荐，方便外部访问）。

   * `127.0.0.1:端口` → 仅本机可访问。

   * 指定 IP:端口 → 只允许该 IP 网卡接收。

   > 想让外网访问，必须用 **0.0.0.0** 或对外 IP，而不能只用 127.0.0.1。
   > 
   > 0.0.0.0 表示 本机所有 IPv4 网卡地址。意思就是“无论从哪个网卡、哪个 IP 进来的流量，我都接”。等价于“监听所有地址”。
   

![cloud-service-host-ip-website-port-listen](/api/v1/website/image/cloud-service/cloud-service-host-ip-website-port-listen.png)

---

## 2. 防火墙配置

1. **入站规则（必须）**

   * 放行别人访问你服务的端口。
   * 云服务需要做的是 去云服务器的安全组的入站规则放开这个端口

> Linux/Windows的本机自己在搭建局域网内的http server服务, 需要去在防火墙中新建“入站规则”，允许 TCP/端口一样，云服务器是在云服务器的安全组的入站规则

3. **出站规则（一般不用动）**

   * 控制服务器“访问外部”的流量。
   * 默认允许即可，限制出站通常只用于内网或高安全环境。


![cloud-service-host-ip-website-firewall-expose](/api/v1/website/image/cloud-service/cloud-service-host-ip-website-firewall-expose.png)



### 🔹 入站规则（Inbound Rule）

* 定义：控制 **外部 → 你的服务器** 的流量。
* 举例：别人访问 `http://你的服务器IP:8080`，这是“进入”的流量。
* 作用：**放行或阻止别人访问你提供的服务**（Web 服务、SSH、数据库等）。
* 常见配置：允许 `80/443` 端口（Web）、`22` 端口（SSH）。

---

### 🔹 出站规则（Outbound Rule）

* 定义：控制 **你的服务器 → 外部** 的流量。
* 举例：服务器去下载软件包、访问外部 API、发邮件，这些是“出去”的流量。
* 作用：**限制或允许你的服务器访问外部网络**。
* 默认：大多数系统/云服务提供商的出站规则都是 **允许全部**，很少特意拦。
* 特殊场景：内网高安全环境（金融、政府、军工）可能会限制出站，只允许访问特定地址。

---

### 📝 总结一句话

* **入站 = 别人能不能访问你**
* **出站 = 你能不能访问别人**


---

## 3. 云服务器配置路由转发(可选)

* **云服务器**：同时检查“安全组”，必须放行对应端口（入站）。
* **家庭/公司局域网**：需要在路由器里做 **端口转发**（公网端口 → 内网服务器端口）。
* 注意：有些宽带屏蔽 80/443，需要换高位端口或用内网穿透。

---

## 4. 测试访问

1. 云服务器的本机测试：

   ```bash
   curl http://127.0.0.1:8080
   ```
2. 通过: `http://公网ip:端口` 进行公网访问


![cloud-service-ip-host-website-preview](/api/v1/website/image/cloud-service/cloud-service-ip-host-website-preview.png)

---

### 必须是 http:// 吗?

可能出现的问题: 用`https://公网ip:端口`却提示资源不存在 但是 `http://公网ip:端口` 可以拿到资源

这个现象本质上和 **协议 + 证书** 有关，不是浏览器“奇怪”，而是符合规范的行为。

---

### 1. HTTP 和 HTTPS 的区别

* `http://` 是**明文传输**，浏览器只要能连上端口，读到 HTTP 报文，就能显示页面。
* `https://` 是**加密传输**，浏览器在正式收发数据前，必须先和服务器做 **TLS 握手**。

  * 握手需要服务器出示一个 **证书**（通常绑定域名，极少情况下可以绑定 IP）。
  * 如果服务器没有配置证书，或者证书和你访问的地址（IP vs 域名）不匹配，握手就会失败，浏览器会直接报错。

---

### 2. 为什么 `http://ip:端口` 可以

因为 HTTP 不需要证书。只要你在该端口上有 HTTP 服务监听，就能看到内容。

---

### 3. 为什么 `https://ip:端口` 不行

原因有三类常见情况：

1. **你没在该端口启用 TLS**

   * 比如 Nginx 里只写了 `listen 8080;` 而没有 `listen 8080 ssl;`。
   * 结果就是浏览器尝试 TLS 握手，发现对方只返回 HTTP 明文，直接报“连接失败”。

2. **有 TLS，但证书不匹配**

   * 免费 CA（比如 Let’s Encrypt）通常只给 **域名**签证书，不给 **裸 IP**。
   * 你用 `https://ip:端口` 访问时，浏览器看到证书是签给 `example.com` 的，就提示“不受信任”。
   * 如果没有证书，就直接握手失败。

3. **浏览器安全策略更严格**

   * 某些现代浏览器根本不会信任 “IP + HTTPS” 的场景，除非是你手动导入的自签名证书，或者企业环境里的内部 CA。


---

✅ 总结一句：

* `http://ip:端口` → 只要有 HTTP 服务就能通。
* `https://ip:端口` → 需要在该端口启用 TLS，并且有有效证书（最好绑定域名）。没有证书就会失败。

---



## 5. 一句话总结

1. 网页
2. Web 服务监听（0.0.0.0:端口）
3. 开放防火墙入站
4. (**可选**: 云安全组/路由器转发)
5. 浏览器访问 http://IP:端口。