---
author: admin@pldz1.com
category: cloud-service
date: '2025-08-21'
serialNo: 3
status: publish
summary: 搭建一个自己域名网站, 在浏览器里随意访问
tags:
- 云服务器
thumbnail: /api/v1/website/image/cloud-service/cloud-service-host-your-domain-website-process.png
title: 搭建自己域名网站
---

# 搭建自己域名网站 !


## 1. 购买域名

可以在阿里旺旺上选择域名:  [https://wanwang.aliyun.com/domain](https://wanwang.aliyun.com/domain)


如果够买成功, 需要实名制，然后在你的阿里云控制台面板能够看见你购买的域名

![cloud-service-host-your-domain-website-domain-management-panel](/api/v1/website/image/cloud-service/cloud-service-host-your-domain-website-domain-management-panel.png)


## 2. 配置公网DNS解析


### 2.1 阿里云配置DNS解析

当有了域名之后，只需要去阿里云的DNS控制台给你的域名配置DNS解析，将域名映射到你的云服务器的公网IP地址即可

![cloud-service-host-your-domain-website-dns-config](/api/v1/website/image/cloud-service/cloud-service-host-your-domain-website-dns-config.png)



### 2.2 什么是DNS解析
DNS（Domain Name System）的作用就是 把域名解析成 IP 地址。

用户访问 www.example.com 的时候，浏览器并不知道这个域名背后对应的是哪台服务器。

> DNS 解析就像电话簿，把 域名（好记的名字） 翻译成 公网 IP（机器实际地址）。
> 
> 配置好解析后，用户输入你的域名，就会被正确地“指向”你的云服务器。
> 
> 举个例子：你买了域名 mywebsite.com 你的云服务器公网 IP 是 123.45.67.89 在阿里云 DNS 控制台添加一条 A 记录：主机记录：www 记录值：123.45.67.89 这样别人访问 www.mywebsite.com，DNS 会返回 123.45.67.89，浏览器就能访问到你服务器上的网站了。


可以用 CMD 的 `nslookup` 指令查看DNS映射


```bash
nslookup baidu.com
Server:  UnKnown
Address:  192.168.60.70

Non-authoritative answer:
Name:    baidu.com
Addresses:  39.156.70.37
          220.181.7.203
```


## 3. 云服务器配置代理转发

### 3.1 什么是代理转发

在完成域名购买 + DNS 解析之后，用户访问域名最终会指向你的 云服务器公网 IP。
此时云服务器要承担的角色是：
1. 接收来自用户的 HTTP/HTTPS 请求
2. 把请求正确分发到对应的应用（比如网站、API、静态文件服务等）

这个“操作转发”的行为，通常有几个专业名字：

- 代理转发/反向代理（Reverse Proxy）：前端（如 Nginx）接收请求，再转发给后端服务。
- 负载均衡（Load Balancing）：如果有多个后端服务，代理会把流量分配过去。
  
如果只做 请求转发/分发，通常就叫 代理转发 或 反向代理。

### 3.2 代理转发的工具

- Nginx: 比较出名的代理转发工具, 做代理转发或者是负载均衡都有很不错效果

- Apache HTTP Server：和 Nginx 类似，也能做反向代理和分发。

- Caddy：配置比 Nginx 更简单，自动支持 HTTPS。

- 应用自身处理：有些框架自带 Web Server 功能（比如 Spring Boot, Node.js 的 Express, Python Flask），你可以直接用应用监听 80/443 端口，自己处理请求，不通过 Nginx。

- 云服务的网关 / 负载均衡：比如阿里云的 SLB（Server Load Balancer），也可以帮你把流量分发到不同实例。



![cloud-service-host-your-domain-website-http-proxy-tool](/api/v1/website/image/cloud-service/cloud-service-host-your-domain-website-http-proxy-tool.png)


## 4. 域名解析的流程


### 🔗 1. 用户输入域名

* 用户在浏览器输入 `www.example.com`。

---

### 🌐 2. DNS 解析

* 浏览器向本地 DNS 解析器发起查询。
* DNS 逐级解析，把 `www.example.com` 解析为你在云服务器上的 **公网 IP**（例如 `123.45.67.89`）。

---

### 💻 3. 请求到达云服务器

* 浏览器使用解析出来的 IP 地址，发起 **HTTP（80端口）或 HTTPS（443端口）** 请求。
* 请求到达云服务器的 **80/443 端口**。

---

### 🔄 4. 代理 / 转发处理

* 如果你安装了 **Nginx / Apache / Caddy** 之类的 Web 服务器，它会监听 80/443 端口：

  * 静态资源（HTML/CSS/JS/图片）：Nginx 直接返回。
  * 动态请求（API 等）：Nginx **反向代理** 转发到后端应用（如 Node.js/Flask/Spring Boot 等）。
* 如果没有用 Nginx，而是应用直接监听 80/443 端口，那么应用程序自己处理请求。

---

### 📤 5. 响应返回

* 后端应用生成响应（HTML/JSON 等）。
* 经由 Nginx（或直接）返回给浏览器。
* 用户在浏览器上看到网页。

---


![cloud-service-host-your-domain-website-process](/api/v1/website/image/cloud-service/cloud-service-host-your-domain-website-process.png)



## 6. 添加ssl证书

### 6.1 阿里云申请证书 

前往阿里云的 `数字证书管理中心` 申请ssl证书

![cloud-service-host-your-domain-website-request-ssl](/api/v1/website/image/cloud-service/cloud-service-host-your-domain-website-request-ssl.png)


### 6.2 nginx 配置ssl证书


![cloud-service-host-your-domain-ssl-nginx-config](/api/v1/website/image/cloud-service/cloud-service-host-your-domain-ssl-nginx-config.png)


关键点:

1. 端口是 `443`
2. `server_name` 还是 域名的名字
3. 指向证书的 `pem` 和 `key` 文件


## 7. 子域名

### 7.1 阿里云添加子域名解析


在阿里云的DNS解析里增加**解析记录**

![cloud-service-host-your-domain-website-sub-dns](/api/v1/website/image/cloud-service/cloud-service-host-your-domain-website-sub-dns.png)


其中 选择 `TXT`的记录类型, 记录值填写为你的 云服务器主机的 `IP` 地址



### 7.2 记录类型


| 记录类型      | 全称                                    | 作用                  | 示例                                             | 常见用途                               |
| --------- | ------------------------------------- | ------------------- | ---------------------------------------------- | ---------------------------------- |
| **A**     | Address Record                        | 域名 → IPv4 地址        | `www.hhhtest.com → 123.45.67.89`               | 网站最常用的解析方式，子域名绑定 IPv4              |
| **AAAA**  | IPv6 Address Record                   | 域名 → IPv6 地址        | `www.hhhtest.com → 2408:abcd::1234`            | IPv6 网络支持                          |
| **CNAME** | Canonical Name                        | 域名 → 另一个域名          | `cdn.hhhtest.com → cdn.provider.com`           | 子域名别名，常用于 CDN、负载均衡                 |
| **MX**    | Mail eXchange                         | 指定邮件服务器             | `hhhtest.com → mx1.qq.com`                     | 邮件收发必备，配置企业邮箱                      |
| **TXT**   | Text                                  | 保存文本信息（验证/策略）       | `_dmarc.hhhtest.com → v=DMARC1; p=reject`      | 域名验证、SSL 验证、邮件 SPF/DKIM/DMARC、安全策略 |
| **NS**    | Name Server                           | 指定域名的权威 DNS 服务器     | `hhhtest.com → dns1.aliyun.com`                | 指定解析托管方，子域名可用 NS 做“子域授权”           |
| **SRV**   | Service                               | 指定服务地址（含端口、协议）      | `_sip._tcp.hhhtest.com → sip.hhhtest.com:5060` | 即时通讯、VoIP、微软 365 等服务发现             |
| **PTR**   | Pointer                               | IP → 域名（反向解析）       | `123.45.67.89 → hhhtest.com`                   | 邮件服务器常用，防垃圾邮件                      |
| **CAA**   | Certification Authority Authorization | 限定哪些 CA 可以给域名签发证书   | `hhhtest.com → 0 issue "letsencrypt.org"`      | 增强 SSL 安全，避免未授权签发                  |
| **SOA**   | Start of Authority                    | 定义区域的起始信息（DNS 管理信息） | 包含主 DNS 服务器、序列号等                               | 域名注册商自动生成，用户很少改动                   |



### 7.3 为什么选择 TXT 类型 


你问的这个现象，其实大多数人第一次配置域名的时候都会碰到：**为什么子域名里经常要加 TXT 记录？**

我给你解释一下 👇

---

## 🔎 为什么很多场景需要子域名用 TXT 记录？

1. **域名所有权验证**

* 在 **阿里云、腾讯云、GitHub Pages、Cloudflare、SSL 证书申请、Google Workspace、Microsoft 365** 等服务里绑定域名时，厂商需要确认“这个域名真的属于你”。
* 验证方式通常是：

  * 在 DNS 里添加一个 TXT 记录，比如：

    ```
    主机记录：_acme-challenge.hhhtest.com
    类型：TXT
    值：123456abcdef...
    ```
  * 服务商会去查询这个 TXT 记录，如果能查到，就说明你确实能控制这个域名。

---

2. **邮件相关（防垃圾、反欺诈）**

* 邮件系统很依赖 TXT 记录：

  * **SPF**：定义哪些服务器可以给 `@hhhtest.com` 发邮件。
  * **DKIM**：公钥验证邮件来源是否合法。
  * **DMARC**：告诉收件方怎么处理伪造邮件。
* 这些全部通过 TXT 记录来存储规则，比如：

  ```
  主机记录：@
  类型：TXT
  值：v=spf1 include:spf.exmail.qq.com ~all
  ```

---

3. **其他服务验证 / 配置**

* Google Search Console、百度站长工具等 SEO 平台 → 要你加 TXT 验证。
* CDN、API 网关等第三方服务 → 要你加 TXT 来确认绑定。

---
4. 📌 为什么不用 A / CNAME，而偏偏是 TXT？

* **A/AAAA/CNAME** 会直接影响子域名的解析结果（指向 IP/域名）。
* 如果服务商只是想“验证”或“附加说明”，不应该改变你网站的解析。
* TXT 记录可以保存任意文本，不影响正常访问，非常灵活。